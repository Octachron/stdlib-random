let major = Scanf.sscanf Sys.ocaml_version "%d.%_d.%_d" (fun x -> x)

let ref =
  if major = 5 then
    (Random.init 100; List.init 100 (fun _ -> Random.float 1.0))
else
[0X1.34133E66775C4P-2; 0X1.9ED1065A86444P-2; 0X1.1905BA466B65DP-1;
 0X1.0AB3D91AA60B6P-2; 0X1.76EF458B68A9AP-2; 0X1.3848F5D2B7A3DP-1;
 0X1.D302161743C4CP-3; 0X1.84EA303D6345CP-2; 0X1.6313BC2D6AF2CP-3;
 0X1.42A3123A45D3AP-2; 0X1.8E7C2E67B1E6DP-1; 0X1.DF08E2052BF6EP-2;
 0X1.750FECA48ADC5P-1; 0X1.DC7F5ED6DC40EP-1; 0X1.E6604AB6ACBC6P-1;
 0X1.D173F55C661AP-5; 0X1.DCDB15924AFA4P-3; 0X1.B54D85B7A3CE5P-1;
 0X1.2EE1B60BECC26P-2; 0X1.9CC3A1A1BEFC8P-1; 0X1.FB1030560065P-3;
 0X1.DADF8C7B45E57P-1; 0X1.9E1B05275866P-5; 0X1.E13960D211238P-1;
 0X1.D774CE26356D8P-1; 0X1.4A5BE2BFBFB29P-1; 0X1.1DD3B82B5334CP-2;
 0X1.3102A2772CDEEP-1; 0X1.9A3FE1483E8P-1; 0X1.C134916189P-11;
 0X1.4E676AB56EE08P-4; 0X1.3673C7517ADD8P-4; 0X1.2304163AA61CP-3;
 0X1.58BC3D7C281P-8; 0X1.70CBA20B0BAF4P-3; 0X1.F645F2F7A14CP-3;
 0X1.93DB9AB026EDFP-1; 0X1.D33CCDC7CA6A6P-1; 0X1.C41077D716402P-1;
 0X1.0794A378450A6P-2; 0X1.99135445AAB98P-2; 0X1.CEABC40108E48P-4;
 0X1.7F3C8F162AE09P-1; 0X1.8D1D792161266P-2; 0X1.F7B3DA5F4D206P-2;
 0X1.81699D95EA929P-1; 0X1.36DDEB5EE2AB2P-1; 0X1.345E5F7A5D29DP-1;
 0X1.83258F1E80044P-1; 0X1.E264DC5F467B6P-1; 0X1.B96E76BE0DA03P-1;
 0X1.B6E8344121E8CP-3; 0X1.8500E346E25A4P-1; 0X1.C96515019DA2AP-2;
 0X1.D8C3575C8DA8EP-2; 0X1.43EDF731532DCP-1; 0X1.6FCDD78F8E321P-1;
 0X1.B8F59DD84D91EP-2; 0X1.447FD1179BE73P-1; 0X1.E2DF8F0C1891EP-2;
 0X1.CE85C7BA64CD9P-1; 0X1.0ADC116F6A22P-4; 0X1.2FC6A659EC988P-2;
 0X1.B7374C6051384P-2; 0X1.E100379312AC8P-4; 0X1.554D8449441BP-1;
 0X1.38D2E36EED9E9P-1; 0X1.76BC58BC77CP-8; 0X1.C1D21C5379F18P-1;
 0X1.5146DB427C0A8P-4; 0X1.8F282BFA8FEECP-3; 0X1.2290C0F49CBDCP-1;
 0X1.F4DD85E368D93P-1; 0X1.D06EEF6371105P-1; 0X1.68143A1E48D28P-2;
 0X1.334BD10BD1696P-1; 0X1.3AC52D2DF5C78P-2; 0X1.3061EE1E6A559P-1;
 0X1.9DFFEDBE41F2P-4; 0X1.DC11B951660AP-2; 0X1.1C6CF4ADCFE23P-1;
 0X1.5D03E255604AP-3; 0X1.F466FE9A9ADEP-1; 0X1.A5586F9F281E6P-1;
 0X1.9CDB5EC6EEA5DP-1; 0X1.5C5EA06497F2BP-1; 0X1.22AEFE5E3944FP-1;
 0X1.9E8C415A90B69P-1; 0X1.DD595DEAAB05FP-1; 0X1.92739123EF9P-8;
 0X1.A38A4C5EC3788P-2; 0X1.8FFCA4E97A878P-3; 0X1.995CAD9BD07CBP-1;
 0X1.27A2DC80F5658P-2; 0X1.2A139A88EF364P-3; 0X1.64FDDD10C3B78P-1;
 0X1.C86C3B772D186P-2; 0X1.C4E14F19D0B45P-1; 0X1.BD1F7FBF4775P-2;
 0X1.2FEB1DF02846CP-1]


let () =
  assert (Random5.init 100; List.init 100 (fun _ -> Random5.float 1.) = ref );
  assert (Random5o.init 100; List.init 100 (fun _ -> Random5o.float 1.) = ref );
